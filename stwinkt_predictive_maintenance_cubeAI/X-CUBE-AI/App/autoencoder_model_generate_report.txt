Neural Network Tools for STM32AI v1.6.0 (STM.ai v7.1.0-RC3)
Created date          : 2022-01-13 18:06:57
Parameters            : generate --name autoencoder_model -m /home/me/Documents/git/mystuff/tinyml/sine_model_cubeai/predictive_maintenance/colabs_models/encoder_model.tflite --type tflite --compression 1 --verbosity 1 --workspace /tmp/mxAI_workspace1138656088036919097497564641905615 --output /home/me/.stm32cubemx/autoencoder_model_output

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : /home/me/Documents/git/mystuff/tinyml/sine_model_cubeai/predictive_maintenance/colabs_models/encoder_model.tflite
type                  : tflite
c_name                : autoencoder_model
compression           : None
workspace dir         : /tmp/mxAI_workspace1138656088036919097497564641905615
output dir            : /home/me/.stm32cubemx/autoencoder_model_output
model_name            : encoder_model
model_hash            : 7788e932ca191380e53e90f3775d2455
input 1/1             : 'serving_default_dense_6_input0'
                        400 items, 1.56 KiB, ai_float, float, (1,1,1,400), domain:user/
output 1/1            : 'nl_8'
                        400 items, 1.56 KiB, ai_float, float, (1,1,1,400), domain:user/
params #              : 124,248 items (485.34 KiB)
macc                  : 128,704
weights (ro)          : 496,992 B (485.34 KiB) (1 segment)
activations (rw)      : 2,112 B (2.06 KiB) (1 segment)
ram (total)           : 5,312 B (5.19 KiB) = 2,112 + 1,600 + 1,600

Model name - encoder_model ['serving_default_dense_6_input0'] ['nl_8']
---------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                             oshape        param/size       macc     connected to                     |   c_size   c_macc   c_type     
---------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_dense_6_input0 (Input)   (1,1,1,400)                                                              |                    
     dense_0 (Dense)                          (1,1,1,128)   51,328/205,312   51,328   serving_default_dense_6_input0   |                     dense()[0] 
     nl_0_nl (Nonlinearity)                   (1,1,1,128)                    128      dense_0                          |                     nl()[1]    
---------------------------------------------------------------------------------------------------------------------------------------------------------
1    dense_1 (Dense)                          (1,1,1,64)    8,256/33,024     8,256    nl_0_nl                          |                     dense()[2] 
     nl_1_nl (Nonlinearity)                   (1,1,1,64)                     64       dense_1                          |                     nl()[3]    
---------------------------------------------------------------------------------------------------------------------------------------------------------
2    dense_2 (Dense)                          (1,1,1,32)    2,080/8,320      2,080    nl_1_nl                          |                     dense()[4] 
     nl_2_nl (Nonlinearity)                   (1,1,1,32)                     32       dense_2                          |                     nl()[5]    
---------------------------------------------------------------------------------------------------------------------------------------------------------
3    dense_3 (Dense)                          (1,1,1,8)     264/1,056        264      nl_2_nl                          |                     dense()[6] 
     nl_3_nl (Nonlinearity)                   (1,1,1,8)                      8        dense_3                          |                     nl()[7]    
---------------------------------------------------------------------------------------------------------------------------------------------------------
4    dense_4 (Dense)                          (1,1,1,32)    288/1,152        288      nl_3_nl                          |                     dense()[8] 
     nl_4_nl (Nonlinearity)                   (1,1,1,32)                     32       dense_4                          |                     nl()[9]    
---------------------------------------------------------------------------------------------------------------------------------------------------------
5    dense_5 (Dense)                          (1,1,1,64)    2,112/8,448      2,112    nl_4_nl                          |                     dense()[10]
     nl_5_nl (Nonlinearity)                   (1,1,1,64)                     64       dense_5                          |                     nl()[11]   
---------------------------------------------------------------------------------------------------------------------------------------------------------
6    dense_6 (Dense)                          (1,1,1,128)   8,320/33,280     8,320    nl_5_nl                          |                     dense()[12]
     nl_6_nl (Nonlinearity)                   (1,1,1,128)                    128      dense_6                          |                     nl()[13]   
---------------------------------------------------------------------------------------------------------------------------------------------------------
7    dense_7 (Dense)                          (1,1,1,400)   51,600/206,400   51,600   nl_6_nl                          |                     dense()[14]
---------------------------------------------------------------------------------------------------------------------------------------------------------
8    nl_8 (Nonlinearity)                      (1,1,1,400)                    4,000    dense_7                          |                     nl()/o[15] 
---------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=128,704/128,704  weights=496,992/496,992  activations=--/2,112 io=--/3,200



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : encoder_model
c-name                : autoencoder_model
c-node #              : 16
c-array #             : 33
activations size      : 2112 (1 segments)
weights size          : 496992 (1 segments)
macc                  : 128704
inputs                : ['serving_default_dense_6_input0_output']
outputs               : ['nl_8_output']

C-Arrays (33)
----------------------------------------------------------------------------------------------------------------------
c_id   name (*_array)                          item/size      domain/mem-pool           c-type        fmt     comment
----------------------------------------------------------------------------------------------------------------------
0      serving_default_dense_6_input0_output   400/1600       user/                     float         float   /input 
1      dense_0_output                          128/512        activations/**default**   float         float          
2      nl_0_nl_output                          128/512        activations/**default**   float         float          
3      dense_1_output                          64/256         activations/**default**   float         float          
4      nl_1_nl_output                          64/256         activations/**default**   float         float          
5      dense_2_output                          32/128         activations/**default**   float         float          
6      nl_2_nl_output                          32/128         activations/**default**   float         float          
7      dense_3_output                          8/32           activations/**default**   float         float          
8      nl_3_nl_output                          8/32           activations/**default**   float         float          
9      dense_4_output                          32/128         activations/**default**   float         float          
10     nl_4_nl_output                          32/128         activations/**default**   float         float          
11     dense_5_output                          64/256         activations/**default**   float         float          
12     nl_5_nl_output                          64/256         activations/**default**   float         float          
13     dense_6_output                          128/512        activations/**default**   float         float          
14     nl_6_nl_output                          128/512        activations/**default**   float         float          
15     dense_7_output                          400/1600       activations/**default**   float         float          
16     nl_8_output                             400/1600       user/                     float         float   /output
17     dense_0_weights                         51200/204800   weights/                  const float   float          
18     dense_0_bias                            128/512        weights/                  const float   float          
19     dense_1_weights                         8192/32768     weights/                  const float   float          
20     dense_1_bias                            64/256         weights/                  const float   float          
21     dense_2_weights                         2048/8192      weights/                  const float   float          
22     dense_2_bias                            32/128         weights/                  const float   float          
23     dense_3_weights                         256/1024       weights/                  const float   float          
24     dense_3_bias                            8/32           weights/                  const float   float          
25     dense_4_weights                         256/1024       weights/                  const float   float          
26     dense_4_bias                            32/128         weights/                  const float   float          
27     dense_5_weights                         2048/8192      weights/                  const float   float          
28     dense_5_bias                            64/256         weights/                  const float   float          
29     dense_6_weights                         8192/32768     weights/                  const float   float          
30     dense_6_bias                            128/512        weights/                  const float   float          
31     dense_7_weights                         51200/204800   weights/                  const float   float          
32     dense_7_bias                            400/1600       weights/                  const float   float          
----------------------------------------------------------------------------------------------------------------------

C-Layers (16)
-------------------------------------------------------------------------------------------------------------------------
c_id   name (*_layer)   id   layer_type   macc    rom      tensors                                    shape (array id)  
-------------------------------------------------------------------------------------------------------------------------
0      dense_0          0    dense        51328   205312   I: serving_default_dense_6_input0_output   (1,1,1,400) (0)   
                                                           W: dense_0_weights                         (400,1,1,128) (17)
                                                           W: dense_0_bias                            (1,1,1,128) (18)  
                                                           O: dense_0_output                          (1,1,1,128) (1)   
-------------------------------------------------------------------------------------------------------------------------
1      nl_0_nl          0    nl           128     0        I: dense_0_output                          (1,1,1,128) (1)   
                                                           O: nl_0_nl_output                          (1,1,1,128) (2)   
-------------------------------------------------------------------------------------------------------------------------
2      dense_1          1    dense        8256    33024    I: nl_0_nl_output                          (1,1,1,128) (2)   
                                                           W: dense_1_weights                         (128,1,1,64) (19) 
                                                           W: dense_1_bias                            (1,1,1,64) (20)   
                                                           O: dense_1_output                          (1,1,1,64) (3)    
-------------------------------------------------------------------------------------------------------------------------
3      nl_1_nl          1    nl           64      0        I: dense_1_output                          (1,1,1,64) (3)    
                                                           O: nl_1_nl_output                          (1,1,1,64) (4)    
-------------------------------------------------------------------------------------------------------------------------
4      dense_2          2    dense        2080    8320     I: nl_1_nl_output                          (1,1,1,64) (4)    
                                                           W: dense_2_weights                         (64,1,1,32) (21)  
                                                           W: dense_2_bias                            (1,1,1,32) (22)   
                                                           O: dense_2_output                          (1,1,1,32) (5)    
-------------------------------------------------------------------------------------------------------------------------
5      nl_2_nl          2    nl           32      0        I: dense_2_output                          (1,1,1,32) (5)    
                                                           O: nl_2_nl_output                          (1,1,1,32) (6)    
-------------------------------------------------------------------------------------------------------------------------
6      dense_3          3    dense        264     1056     I: nl_2_nl_output                          (1,1,1,32) (6)    
                                                           W: dense_3_weights                         (32,1,1,8) (23)   
                                                           W: dense_3_bias                            (1,1,1,8) (24)    
                                                           O: dense_3_output                          (1,1,1,8) (7)     
-------------------------------------------------------------------------------------------------------------------------
7      nl_3_nl          3    nl           8       0        I: dense_3_output                          (1,1,1,8) (7)     
                                                           O: nl_3_nl_output                          (1,1,1,8) (8)     
-------------------------------------------------------------------------------------------------------------------------
8      dense_4          4    dense        288     1152     I: nl_3_nl_output                          (1,1,1,8) (8)     
                                                           W: dense_4_weights                         (8,1,1,32) (25)   
                                                           W: dense_4_bias                            (1,1,1,32) (26)   
                                                           O: dense_4_output                          (1,1,1,32) (9)    
-------------------------------------------------------------------------------------------------------------------------
9      nl_4_nl          4    nl           32      0        I: dense_4_output                          (1,1,1,32) (9)    
                                                           O: nl_4_nl_output                          (1,1,1,32) (10)   
-------------------------------------------------------------------------------------------------------------------------
10     dense_5          5    dense        2112    8448     I: nl_4_nl_output                          (1,1,1,32) (10)   
                                                           W: dense_5_weights                         (32,1,1,64) (27)  
                                                           W: dense_5_bias                            (1,1,1,64) (28)   
                                                           O: dense_5_output                          (1,1,1,64) (11)   
-------------------------------------------------------------------------------------------------------------------------
11     nl_5_nl          5    nl           64      0        I: dense_5_output                          (1,1,1,64) (11)   
                                                           O: nl_5_nl_output                          (1,1,1,64) (12)   
-------------------------------------------------------------------------------------------------------------------------
12     dense_6          6    dense        8320    33280    I: nl_5_nl_output                          (1,1,1,64) (12)   
                                                           W: dense_6_weights                         (64,1,1,128) (29) 
                                                           W: dense_6_bias                            (1,1,1,128) (30)  
                                                           O: dense_6_output                          (1,1,1,128) (13)  
-------------------------------------------------------------------------------------------------------------------------
13     nl_6_nl          6    nl           128     0        I: dense_6_output                          (1,1,1,128) (13)  
                                                           O: nl_6_nl_output                          (1,1,1,128) (14)  
-------------------------------------------------------------------------------------------------------------------------
14     dense_7          7    dense        51600   206400   I: nl_6_nl_output                          (1,1,1,128) (14)  
                                                           W: dense_7_weights                         (128,1,1,400) (31)
                                                           W: dense_7_bias                            (1,1,1,400) (32)  
                                                           O: dense_7_output                          (1,1,1,400) (15)  
-------------------------------------------------------------------------------------------------------------------------
15     nl_8             8    nl           4000    0        I: dense_7_output                          (1,1,1,400) (15)  
                                                           O: nl_8_output                             (1,1,1,400) (16)  
-------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=128,704 weights=496,992 act=2,112 ram_io=3,200
------------------------------------------------------------------------
id   name      c_macc                    c_rom                     c_id
------------------------------------------------------------------------
0    dense_0   |||||||||||||||   39.9%   |||||||||||||||   41.3%   [0] 
0    nl_0_nl   |                  0.1%   |                  0.0%   [1] 
1    dense_1   |||                6.4%   |||                6.6%   [2] 
1    nl_1_nl   |                  0.0%   |                  0.0%   [3] 
2    dense_2   |                  1.6%   |                  1.7%   [4] 
2    nl_2_nl   |                  0.0%   |                  0.0%   [5] 
3    dense_3   |                  0.2%   |                  0.2%   [6] 
3    nl_3_nl   |                  0.0%   |                  0.0%   [7] 
4    dense_4   |                  0.2%   |                  0.2%   [8] 
4    nl_4_nl   |                  0.0%   |                  0.0%   [9] 
5    dense_5   |                  1.6%   |                  1.7%   [10]
5    nl_5_nl   |                  0.0%   |                  0.0%   [11]
6    dense_6   |||                6.5%   |||                6.7%   [12]
6    nl_6_nl   |                  0.1%   |                  0.0%   [13]
7    dense_7   ||||||||||||||||  40.1%   ||||||||||||||||  41.5%   [14]
8    nl_8      ||                 3.1%   |                  0.0%   [15]

Generated files (5)
-----------------------------------------------------------------------------------
/home/me/.stm32cubemx/autoencoder_model_output/autoencoder_model_config.h
/home/me/.stm32cubemx/autoencoder_model_output/autoencoder_model.h
/home/me/.stm32cubemx/autoencoder_model_output/autoencoder_model.c
/home/me/.stm32cubemx/autoencoder_model_output/autoencoder_model_data.h
/home/me/.stm32cubemx/autoencoder_model_output/autoencoder_model_data.c
